var Demandbase=window.Demandbase||{};!function(d){"use strict";var M=this&&this.__spreadArray||function(t,e,i){if(i||2===arguments.length)for(var n=0,o=e.length,r;n<o;n++)!r&&n in e||((r=r||Array.prototype.slice.call(e,0,n))[n]=e[n]);return t.concat(r||Array.prototype.slice.call(e))},n=this&&this.__extends||(x=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}),function(t,e){x(t,e);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),x,e=this&&this.__awaiter||function(r,a,s,l){return new(s=s||C)(function(t,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function n(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(i,n)}o((l=l.apply(r,a||[])).next())})},c=this&&this.__generator||function(t,i){var n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o,r,a,e,e={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function s(e){return function(t){return l([e,t])}}function l(e){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch((e=(r=0,a)?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:n.label++;return{value:e[1],done:!1};case 5:n.label++;r=e[1];e=[0];continue;case 7:e=n.ops.pop();n.trys.pop();continue;default:if(!(a=0<(a=n.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){n=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3]))n.label=e[1];else if(6===e[0]&&n.label<a[1]){n.label=a[1];a=e}else{if(!(a&&n.label<a[2])){a[2]&&n.ops.pop();n.trys.pop();continue}n.label=a[2];n.ops.push(e)}}e=i.call(t,n)}catch(t){e=[6,t];r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}};function F(e){var i=this.constructor;return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){return i.reject(t)})})}function G(i){var t;return new this(function(n,t){if(!i||void 0===i.length)return t(new TypeError(typeof i+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(i);if(0===o.length)return n([]);var r=o.length;function a(e,t){if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i){return i.call(t,function(t){a(e,t)},function(t){o[e]={status:"rejected",reason:t};0==--r&&n(o)}),void 0}}o[e]={status:"fulfilled",value:t};0==--r&&n(o)}for(var e=0;e<o.length;e++)a(e,o[e])})}var B=setTimeout,d,d,d,d,d,d,d,d,s,t,d,d,d,d,d,d,o,t,d,V,i,d,r,t,d,a,i,d,l,t,d,u,i,d,g,t,d,f,i,d,p,t,d,h,i,d,t,i,d,m,t,d,y,i,d,v,t,j,d,w,i,b;function z(t){return Boolean(t&&void 0!==t.length)}function X(){}function q(t,e){return function(){t.apply(e,arguments)}}function C(t){if(!(this instanceof C))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];K(t,this)}function W(i,n){for(;3===i._state;)i=i._value;if(0===i._state)i._deferreds.push(n);else{i._handled=!0;C._immediateFn(function(){var t=1===i._state?n.onFulfilled:n.onRejected,e;if(null===t)(1===i._state?H:E)(n.promise,i._value);else{try{e=t(i._value)}catch(t){E(n.promise,t);return}H(n.promise,e)}})}}function H(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof C){e._state=3;e._value=t;Q(e);return}if("function"==typeof i){return K(q(i,t),e),void 0}}e._state=1;e._value=t;Q(e)}catch(t){E(e,t)}}function E(t,e){t._state=2;t._value=e;Q(t)}function Q(t){2===t._state&&0===t._deferreds.length&&C._immediateFn(function(){t._handled||C._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)W(t,t._deferreds[e]);t._deferreds=null}function J(t,e,i){this.onFulfilled="function"==typeof t?t:null;this.onRejected="function"==typeof e?e:null;this.promise=i}function K(t,e){var i=!1;try{t(function(t){if(!i){i=!0;H(e,t)}},function(t){if(!i){i=!0;E(e,t)}})}catch(t){if(!i){i=!0;E(e,t)}}}C.prototype.catch=function(t){return this.then(null,t)};C.prototype.then=function(t,e){var i=new this.constructor(X);W(this,new J(t,e,i));return i};C.prototype.finally=F;C.all=function(e){return new C(function(n,o){if(!z(e))return o(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);var a=r.length;function s(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i){return i.call(t,function(t){s(e,t)},o),void 0}}r[e]=t;0==--a&&n(r)}catch(t){o(t)}}for(var t=0;t<r.length;t++)s(t,r[t])})};C.allSettled=G;C.resolve=function(e){return e&&"object"==typeof e&&e.constructor===C?e:new C(function(t){t(e)})};C.reject=function(i){return new C(function(t,e){e(i)})};C.race=function(o){return new C(function(t,e){if(!z(o))return e(new TypeError("Promise.race accepts an array"));for(var i=0,n=o.length;i<n;i++)C.resolve(o[i]).then(t,e)})};C._immediateFn="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){B(t,0)};C._unhandledRejectionFn=function t(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var i=d=d||{},Y,$,Z,t=Y=i.Config||(i.Config={});t.ads=window.Demandbase.Config.ads||{};t.analytics=window.Demandbase.Config.analytics||{};t.conditions=window.Demandbase.Config.conditions||{};t.content=window.Demandbase.Config.content||{};t.forms=window.Demandbase.Config.forms||{};t.domainAPI=window.Demandbase.Config.domainAPI||{};t.segments=window.Demandbase.Config.segments||{};t.allowedDomains=window.Demandbase.Config.allowedDomains||[];t.emptyWatchDefault=window.Demandbase.Config.emptyWatchDefault||null;t.general=window.Demandbase.Config.general||{forms:{emailAPIPath:null,autocompletePath:null},IpApiModule:{baseUrl:null},domainAPI:{url:null},APIVersion:null};t.hooks=window.Demandbase.Config.hooks||{};t.isInIFrame=window.Demandbase.Config.isInIFrame||null;t.key=window.Demandbase.Config.key||null;t.logging=window.Demandbase.Config.logging||null;t.nonCompanyDefault=window.Demandbase.Config.nonCompanyDefault||null;t.nonWatchDefault=window.Demandbase.Config.nonWatchDefault||null;t.testDomain=window.Demandbase.Config.testDomain||void 0;t.testIp=window.Demandbase.Config.testIp||void 0;t.tokens=window.Demandbase.Config.tokens||{};t.useTestDomain=window.Demandbase.Config.useTestDomain||!1;t.useTestIp=window.Demandbase.Config.useTestIp||!1;t.Advertising=window.Demandbase.Config.Advertising||{};t.AssetReporter=window.Demandbase.Config.AssetReporter||{};t.Content=window.Demandbase.Config.Content||{};t.ErrorReporter=window.Demandbase.Config.ErrorReporter||{};t.Forms=window.Demandbase.Config.Forms||{};t.Google_Analytics=window.Demandbase.Config.Google_Analytics||{};t.Google_TagManager=window.Demandbase.Config.Google_TagManager||{};t.IpApiModule=i.Config.IpApiModule||{};t.EmailDomainReporter=window.Demandbase.Config.EmailDomainReporter||{};t.Event=window.Demandbase.Config.Event||{};t.isVoltronEnabled=window.Demandbase.Config.isVoltronEnabled||!0;t.SiteCustomization=window.Demandbase.Config.SiteCustomization||{experiences:{}};Z=$=i.Connectors||(i.Connectors={});(d=d||{}).version="10.1.22";var _=d=d||{},tt,t=tt=_.Utilities||(_.Utilities={}),et,t=et=t.ErrorStackParser||(t.ErrorStackParser={}),it=/(^|@)\S+\:\d+/,nt=/^\s*at .*(\S+\:\d+|\(native\))/m,ot=/^(eval@)?(\[native code\])?$/;function rt(t){return void 0!==t.stacktrace||void 0!==t["opera#sourceloc"]?this.parseOpera(t):t.stack&&t.stack.match(nt)?this.parseV8OrIE(t):t.stack?this.parseFFOrSafari(t):void 0}t.parse=rt;function at(t){var e,t;return-1===_.Shims.indexOf(t,":")?[t]:[(t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,"")))[1],t[2]||void 0,t[3]||void 0]}t.extractLocation=at;function st(t,e){void 0===e&&(e=10);if(t)return parseInt(t,e)}t._parseInt=st;function lt(t){var e;return t.stack.split("\n").filter(function(t){return!!t.match(nt)},this).map(function(t){var t=(t=-1<_.Shims.indexOf(t,"(eval ")?t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""):t).replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),e=this.extractLocation(t.pop()),i,n;return{function:t.join(" ")||void 0,file:-1<_.Shims.indexOf(["eval","<anonymous>"],e[0])?void 0:e[0],line:this._parseInt(e[1]),column:this._parseInt(e[2])}},this)}t.parseV8OrIE=lt;function ct(t){var e;return t.stack.split("\n").filter(function(t){return!t.match(ot)},this).map(function(t){-1<_.Shims.indexOf(t," > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"));var t,e,i;return-1===_.Shims.indexOf(t,"@")&&-1===_.Shims.indexOf(t,":")?{function:t}:(t=t.split("@"),e=this.extractLocation(t.pop()),{function:t.join("@")||void 0,file:e[0],line:this._parseInt(e[1]),column:this._parseInt(e[2])})},this)}t.parseFFOrSafari=ct;function ut(t){return!t.stacktrace||-1<_.Shims.indexOf(t.message,"\n")&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)}t.parseOpera=ut;function gt(t){for(var e=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split("\n"),n=[],o=2,r=i.length;o<r;o+=2){var a=e.exec(i[o]);a&&n.push({file:a[2],line:this._parseInt(a[1])})}return n}t.parseOpera9=gt;function dt(t){for(var e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split("\n"),n=[],o=0,r=i.length;o<r;o+=2){var a=e.exec(i[o]);a&&n.push({function:a[3]||void 0,file:a[2],line:this._parseInt(a[1])})}return n}t.parseOpera10=dt;function ft(t){var e;return t.stack.split("\n").filter(function(t){return!!t.match(it)&&!t.match(/^Error created at/)},this).map(function(t){var t=t.split("@"),e=this.extractLocation(t.pop()),t=t.shift()||"",i=t.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,n,o=void 0===(n=t.match(/\(([^\)]*)\)/)?t.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"):n)||"[arguments not available]"===n?void 0:n.split(",");return{function:i,file:e[0],line:this._parseInt(e[1]),column:this._parseInt(e[2])}},this)}t.parseOpera11=ft;var i=d=d||{},pt,i;(i=pt=i.Shims||(i.Shims={})).console=window.console||{log:function(){},debug:function(){}};i.JSON=window.JSON||{stringify:function(){},parse:function(){}};function ht(t,e,i){if(null==t)throw new TypeError("Array.indexOf called on null or undefined");return t.indexOf?t.indexOf(e,i):bt(t,e,i)}i.indexOf=ht;function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Object.assign&&"function"==typeof Object.assign)return Object.assign.apply(null,t);if(null==t[0])throw new TypeError("Cannot convert undefined or null to object");return Ct(t)}i.assign=mt;function yt(t,e,i){var i=0<i?0|i:0;return t.substring(i,i+e.length)===e}i.startsWith=yt;function vt(t,e){if(t instanceof RegExp)throw new TypeError("First argument must not be a RegExp");return-1!==this.indexOf(t,e=void 0===e?0:e)}i.includes=vt;function wt(t){if(Object.keys)return Object.keys(t);if("function"==typeof t||"object"==typeof t&&null!==t)return Et(t);throw new TypeError("Object.keys called on non-object")}i.keys=wt;function bt(t,e,i){var n=t.length>>>0,o=Math.min(0|i,n);if(o<0)o=Math.max(0,n+o);else if(n<=o)return-1;if(void 0===e){for(;o!==n;++o)if(void 0===t[o]&&o in t)return o}else if(e!=e){for(;o!==n;++o)if(t[o]!=t[o])return o}else for(;o!==n;++o)if(t[o]===e)return o;return-1}i._indexOfPolyfill=bt;function Ct(t){for(var e=Object(t[0]),i=1;i<t.length;i++){var n=t[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}i._assignPolyfill=Ct;function Et(t){var e=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length,r=[],a,s;for(a in t)e.call(t,a)&&r.push(a);if(i)for(s=0;s<o;s++)e.call(t,n[s])&&r.push(n[s]);return r}i._keysPolyfill=Et;var A=d=d||{},_t,At=_t=A.Utilities||(A.Utilities={}),It,t=It=At.Api||(At.Api={});function Ut(t){var e={referrer:document.referrer,page:document.URL,page_title:document.title};if(A.Config.isInIFrame)try{e.page=window.top.document.URL;e.referrer=window.top.document.referrer;e.page_title=window.top.document.title}catch(t){e.page=document.referrer;e.referrer=null;e.page_title="3rd Party iFrame"}return Pt(e=A.Shims.assign(e,t))}t.buildApiParamString=Ut;function Dt(t,e){var t=t||At.Constants.URL_IP_API,i;return t+=Ut(e||{})}t.buildApiUrl=Dt;function Pt(t,e){void 0===e&&(e=!0);var i="?",n;for(n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(i+="".concat(n,"=").concat(e?encodeURIComponent(t[n]):t[n],"&"));return i=i.substring(0,i.length-1)}t.buildQueryString=Pt;var i=window;i.Demandbase.utils=i.Demandbase.utils||{};d.Shims.assign(i.Demandbase.utils,i.Demandbase.utils,{buildApiParamString:d.Utilities.Api.buildApiParamString,buildApiUrl:d.Utilities.Api.buildApiUrl,buildQueryString:d.Utilities.Api.buildQueryString});var I=d=d||{},St,t=St=I.Utilities||(I.Utilities={}),Ot,U=Ot=t.Callbacks||(t.Callbacks={});U.callbackStack=[];function Lt(i){if(i||"object"==typeof i)for(var t=function(t){var e=U.callbackStack[t];I.ErrorReporter.wrap(function(){e&&"function"==typeof e&&e.call(I,i)})()},e=0;e<U.callbackStack.length;e++)t(e);else I.Utilities.Logging.log("Data is falsy, not invoking callbacks: "+i)}U.callback=Lt;function Tt(t){if(t&&"object"==typeof t){I.IpApi.CompanyProfile=I.Utilities.flatten(t);this.callback(t)}else I.Utilities.Logging.log("domScriptCallback(): Data is falsy, not invoking callbacks: "+t)}U.domScriptCallback=Tt;function Rt(t){if(!t||"function"!=typeof t||-1!==I.Shims.indexOf(U.callbackStack,t)){return I.Utilities.Logging.log("registerCallback(): callback is not a valid function or is already a part of the callbacks: "+t),!1}U.callbackStack.push(t);I.IpApi&&I.IpApi.CompanyProfile&&I.ErrorReporter.wrap(function(){t.call(I,I.IpApi.CompanyProfile)})();return!0}U.registerCallback=Rt;var i=window;i.Demandbase.utils=i.Demandbase.utils||{};d.Shims.assign(i.Demandbase.utils,i.Demandbase.utils,{callback:d.Utilities.Callbacks.callback.bind(d.Utilities.Callbacks),registerCallback:d.Utilities.Callbacks.registerCallback.bind(d.Utilities.Callbacks)});var D=d=d||{},kt,t=kt=D.Utilities||(D.Utilities={}),Nt,t;(t=Nt=t.Constants||(t.Constants={})).PROTOCOL="https://";t.URL_COMPANY_TARGET_DOMAIN="company-target.com";t.QS_USE_TEST_DOMAIN="db_useTestDomain";t.QS_QUERY_DOMAIN="db_domain";t.QS_ENABLE_LOG="db_logging";t.QS_PREVIEW_TOKEN="db_preview_token";t.DFLT_NON_COMPANY="(Non-Company Visitor)";t.DFLT_AW_EMPTY="(AccountWatch Empty)";t.DFLT_NON_AW="(Non-AccountWatch Visitor)";t.DFLT_EVENT_TYPE="click";t.URL_IP_API="api.".concat(t.URL_COMPANY_TARGET_DOMAIN,"/api/v3/ip.json");t.URL_DOMAIN_API="api.demandbase.com/api/v3/domain.json";t.URL_BW_AD_PIXEL=D.Config.tokens.URL_BW_AD_PIXEL||"match.prod.bidr.io/cookie-sync/demandbase";t.URL_LR_AD_PIXEL=D.Config.tokens.URL_LR_AD_PIXEL||"id.rlcdn.com/464526.gif";t.URL_SMART_PIXEL=D.Config.ads.smarPixelURL||"https://s.".concat(t.URL_COMPANY_TARGET_DOMAIN,"/s/sync");t.MODIFICATION_ERROR="SCModificationError";t.PARDOT_VISITOR_COOKIE_REGEX=/^visitor_id[\d]+$/;t.NON_HUMAN_DEVICES=[/adsbot-google/i,/googlebot/i];t.URL_CURRENT=function(){var t=document.URL;D.Config.isInIFrame&&(t=document.referrer);return t=encodeURIComponent(t)}();t.URL_EVENT_API="et.".concat(t.URL_COMPANY_TARGET_DOMAIN);var i=window;i.Demandbase.utils=i.Demandbase.utils||{};d.Shims.assign(i.Demandbase.utils,i.Demandbase.utils,{tokens:d.Utilities.Constants});s=d=d||{},t=function(){function t(t){this.name=(t=void 0===t?{}:t).name||"";this.modify=t.modify||null;this.segments=t.segments||[];this.url=t.url||[];this.modify||(this.modify=function(){s.Utilities.Logging.log("DBContent: modify function not defined")});"string"==typeof this.segments&&(this.segments=[this.segments]);"string"==typeof this.url&&(this.url=[this.url])}t.prototype.run=function(){var t=!1,e;for(e in this.url)if(this.url.hasOwnProperty(e)){var i=this.url[e];s.Utilities.isCurrentPage(i)&&(t=!0)}if(t){var n=!1,e,o;for(e in this.segments)if(this.segments.hasOwnProperty(e)){var r=this.segments[e],a=window.Demandbase.Segments[r];void 0!==a&&a&&(n=!0)}if(!n){return s.Utilities.Logging.log("DBContent modify ".concat(this.name," not fired.  Segment ").concat(r)),!1}try{s.Utilities.Logging.log("DBContent: running modify function for: ".concat(this.name));this.modify.call(document)}catch(t){throw new Error("".concat(s.Utilities.Constants.MODIFICATION_ERROR,": ").concat(t.message))}return!0}s.Utilities.Logging.log("DBContent modify ".concat(this.name," not fired. no URL match with: ").concat(this.url));return!1};return t}(),s.DBContent=t;var P=d=d||{},Mt,i=Mt=P.DBContentBuilder||(P.DBContentBuilder={});function xt(t){if(!t)return!1;var e=["name","segments","pages","modify"];if("function"!=typeof t.modify){return P.Utilities.Logging.log("DBContentBuilder: invalid type in config."),!1}for(var i=0;i<e.length;i++)if(void 0===t[e[i]]){return P.Utilities.Logging.log("DBContentBuilder: invalid config missing: ".concat(e[i])),!1}return!0}i.isValid=xt;function Ft(t){if(xt(t)){"string"==typeof t.pages?t.url=[t.pages]:t.url=t.pages;"string"==typeof t.segments&&(t.segments=[t.segments]);return new P.DBContent(t)}return null}i.build=Ft;var S=d=d||{},Gt,t=Gt=S.Utilities||(S.Utilities={}),Bt,t;function Vt(t){var e=!0;if(!zt(t)){return S.Utilities.Logging.log("Event not added."),!1}var i=t.type||S.Utilities.Constants.DFLT_EVENT_TYPE,n=t.elements,o=n.constructor,r;if(o!==HTMLCollection&&o!==NodeList)return jt(t.elements,i,t.listener);for(r in n){var a=!1;if(n.hasOwnProperty(r)&&!(a=jt(n[r],i,t.listener))){e=!1;S.Utilities.Logging.log("Event not added to".concat(n[r]))}}return e}(t=Bt=t.Events||(t.Events={})).add=Vt;function jt(t,e,i){if(!t){return S.Utilities.Logging.log("Event not registered - invalid element/s."),null}t.jquery&&(t=t[0]);S.Utilities.addEventListener(t,e,i);S.Utilities.Logging.log("Event Listener bind to: ".concat(t," on event ").concat(e));return!0}t._attachListener=jt;function zt(t){for(var e=!1,i=["elements","listener"],n=t.elements||null,o=t.listener||null,r=0;r<i.length;r++)if(void 0===t[i[r]]||!t[i[r]]){return S.Utilities.Logging.log("Invalid Event object. Missing: ".concat(i[r])),!1}if("function"!=typeof o){return S.Utilities.Logging.log('Invalid Event: "listener" must be a function. Got ('.concat(o,")")),!1}n instanceof Node||n instanceof NodeList||n instanceof HTMLElement||n instanceof HTMLCollection||n instanceof Window||n instanceof Document||"function"==typeof n||void 0!==window.Demandbase.jQuery&&n instanceof window.Demandbase.jQuery?e=!0:S.Utilities.Logging.log("Invalid Event:  element: ".concat(n,' has type: "').concat(n.constructor,'" which is not proper instance type.'));return e}t.isValid=zt;var i=window;i.Demandbase.utils=i.Demandbase.utils||{};d.Shims.assign(i.Demandbase.utils,i.Demandbase.utils,{events:d.Utilities.Events});var O=d=d||{},Xt,t=Xt=O.Utilities||(O.Utilities={}),qt,t;(t=qt=t.Logging||(t.Logging={})).logging=!1;t.debug=!1;function Wt(t){Ht(t)}t.alert=Wt;function Ht(t){!O.Config.logging&&"true"!==O.Utilities.getQueryParam(O.Utilities.Constants.QS_ENABLE_LOG)||O.Shims.console.log("DB: ".concat(t))}t.log=Ht;var i=window;i.Demandbase.utils=i.Demandbase.utils||{};d.Shims.assign(i.Demandbase.utils,i.Demandbase.utils,{logging:d.Utilities.Logging.logging,debug:d.Utilities.Logging.debug,alert:d.Utilities.Logging.alert.bind(d.Utilities.Logging),log:d.Utilities.Logging.log.bind(d.Utilities.Logging)});var L=d=d||{},Qt,t=Qt=L.Utilities||(L.Utilities={});function Jt(i,t){var n={};t.cookie.split(";").forEach(function(t){var t=t.split("="),e=t[0].trim();i.test(e)&&1<t.length&&(n[e]=t[1].trim())});return n}t.getCookiesByRegex=Jt;function Kt(t){return document.getElementById(t)||document.getElementsByName(t)[0]||null}t.getElementByIdOrName=Kt;function Yt(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent&&t.attachEvent(e,i)}t.addEventListener=Yt;function $t(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=t,o=0,r=e;o<r.length;o++){var a=r[o];if(void 0===n)return;n="function"==typeof a?a(n):n[a]}return n}t.dig=$t;function Zt(t,n,e){Object(t)===t&&((n=Array.isArray(n)?n:n.toString().match(/[^.[\]]+/g)||[]).slice(0,-1).reduce(function(t,e,i){return Object(t[e])===t[e]?t[e]:t[e]=Math.abs(n[i+1])>>0==+n[i+1]?[]:{}},t)[n[n.length-1]]=e);return t}t.set=Zt;function te(t){if(t&&"object"==typeof t)for(var e in t){var i=t[e];if("object"==typeof i&&null!==i&&t.hasOwnProperty(e)){for(var n in i)t["".concat(e,"_").concat(n)]=i[n];delete t[e]}}return t}t.flatten=te;function ee(t,e){if(!1===t[e])return"false";for(var i,n=L.Config.nonCompanyDefault||L.Utilities.Constants.DFLT_NON_COMPANY,o=L.Config.emptyWatchDefault||L.Utilities.Constants.DFLT_AW_EMPTY,r,a=t[e]||t[{city:"registry_city",state:"registry_state",zip:"registry_zip_code",country:"registry_country_code",country_name:"registry_country",latitude:"registry_latitude",longitude:"registry_longitude"}[e]||""]||L.Utilities.dig(t,"custom_fields",e)||n,n=(t.company_name||n)!==n,s=L.Shims.keys(t),l=!1,c=0;c<s.length;c++)if(0===L.Shims.indexOf(s[c],"watch_list_")){l=!0;break}if(-1!==L.Shims.indexOf(e,"watch_list_")&&n){l||(o=L.Config.nonWatchDefault||L.Utilities.Constants.DFLT_NON_AW);a=t[e]||o}return a}t.getAttributeValue=ee;function ie(t,e){var e,i={},e=(e=e||window||{location:{search:"",hash:""}}).location.search.substring(1)||e.location.hash&&e.location.hash.split("?")[1];if(!e)return"";for(var n=e.split("&"),o=0;o<n.length;o++){var r=n[o].split("="),a=r[0],r=r[1];i[a]=r}return i[t]||""}t.getQueryParam=ie;function ne(t,e,i){void 0===i&&(i="https://");if(t){L._loadedScripts=L._loadedScripts||{};if(!L._loadedScripts[t]){L._loadedScripts[t]=!0;var n=document.createElement("script"),o=document.getElementsByTagName("script")[0];n.async=!0;n.id=e||"";n.src="".concat(i).concat(t.replace(/(^\/\/)|(^http:\/\/)|(^https:\/\/)/,""));o.parentNode.insertBefore(n,o)}}}t.insertScript=ne;function oe(){try{return 0<L.Shims.indexOf(window.navigator.userAgent,"MSIE ")}catch(t){return!0}}t.isOldBrowserOrUserAgentUnavailable=oe;function re(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function t(e,i){return String.fromCharCode(parseInt("0x".concat(i),16))}))}t.b64EncodeUnicode=re;function ae(t,e){return"".concat(t," has been deprecated since version ").concat(e)}t.generateDeprecationMessage=ae;function se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=t;i<n.length;i++){var o=n[i];if(o&&0<Object.keys(o).length)return o}return null}t.getFirstNonEmptyObject=se;var i=window;i.Demandbase.utils=i.Demandbase.utils||{};d.Shims.assign(i.Demandbase.utils,i.Demandbase.utils,d.Utilities);d.Shims.assign(i.Demandbase.utils,d.utils,{loadScript:d.Utilities.insertScript,flattenData:d.Utilities.flatten,getAttrValue:d.Utilities.getAttributeValue});var T=d=d||{},le,R=le=T.Utilities||(T.Utilities={});function ce(){return window.top!==window.self}R.detectIFrame=ce;function ue(){return document.readyState}R.getDocumentReadyState=ue;function ge(){try{if(window.navigator.cookieEnabled){document.cookie="COOKIE_TEST=TEST";if(-1!==T.Shims.indexOf(document.cookie,"COOKIE_TEST=TEST")){return document.cookie="COOKIE_TEST=PASSED_TEST",!0}}return!1}catch(t){return!1}}R.isCookieEnabled=ge;function de(t){var e=document.location.href;T.Config.isInIFrame&&(e=document.referrer);return e=t?t:e}function fe(t,e){var i="?",n="#",o=document.location.hash,r=document.location.search,a=de(e);if(e){var s=T.Shims.indexOf(e,n);-1===s&&(s=e.length);o=e.substring(T.Shims.indexOf(e,n),e.length);r=e.substring(T.Shims.indexOf(e,i),s);a=e}function l(t){var e="//";return 0===T.Shims.indexOf(t,e)?t.substring(e.length,t.length):t.replace(/^.*?:\/\//g,"")}function c(t){return t.replace(/^(www\.)/g,"")}function u(t){var e="/";-1!==T.Shims.indexOf(t,n,t.length-n.length)&&(t=t.substring(0,t.length-1));return t=-1!==T.Shims.indexOf(t,e,t.length-e.length)?t.substring(0,t.length-1):t}t=u(t=c(t=l(t)));a=u(a=c(a=l(a)));-1===T.Shims.indexOf(t,n)&&-1!==T.Shims.indexOf(a,n)&&(a=a.substring(0,a.length-o.length));var a,s=(a=u(a=-1===T.Shims.indexOf(t,i)&&-1!==T.Shims.indexOf(a,i)?a.substring(0,a.length-r.length):a))===t;T.Utilities.Logging.log("utilities.isCurrentPage(): Page check resulted in: "+s);return s}R.isCurrentPage=fe;function pe(t,e){var i,e;return!(!t||t.length<=0)&&(e=("$"!==(t="^"!==t[0]?"^".concat(t):t)[t.length-1]&&(t+="$"),de(e)),new RegExp(t).test(e))}R.isCurrentPageRegex=pe;function he(t){try{var e=window[t.toString()],i=(e.setItem("STORAGE_CHECK","STORAGE_CHECK"),e.getItem("STORAGE_CHECK"));e.removeItem("STORAGE_CHECK");return!0}catch(t){return!1}}R.isStorageEnabled=he;function me(t){return t?"#".concat(t.replace(/(:|\.|\[|\]|,)/g,"\\$1")):null}R.jqid=me;function ye(t,e){for(var i=0;i<e.length;i++)if(Ce(t,e[i]))return!0;return!1}R.includesAny=ye;function ve(t){var e;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}R.isValidEmail=ve;function we(t){return t.replace(/[.*+?^${}()|[\]\\\/]/g,"\\$&")}R.escapeRegExp=we;function be(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}R.nodeListToArray=be;function Ce(t,e){return!(!e||e.length>t.length||-1===T.Shims.indexOf(t,e))}function Ee(){try{return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(t){return(+t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+t/4).toString(16)})}catch(t){console.error("Failed to generate UUID:",t);return"id-"+Date.now()+"-"+Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}}R.generateUuid=Ee;function _e(){return T.Utilities.dig(T,"Config","key")||T.Utilities.dig(T,"Config","analytics","key")||T.Utilities.dig(T,"Config","ads","key")||T.Utilities.dig(T,"Config","forms","key")||"ERR_NO_AUTH_KEY"}R.getApiAuthToken=_e;function Ae(t){return t.replace(/^([^:]+:\/\/)?/,R.Constants.PROTOCOL)}R.setHttpsProtocol=Ae;o=d=d||{},t=function(){function e(t,e,i){this.config=t;this.moduleNameToConstructorMap=e;this.nameSpace=i}e.prototype.build=function(){this._parseConfig()};e.prototype._parseConfig=function(){var n=this;o.Shims.keys(this.config).forEach(function(t){var e=n._testConfigForKey(t);if(e&&3===e.length){var e=e[1],i=n.moduleNameToConstructorMap[e];if(n.nameSpace[t])o.ErrorReporter.send(new Error("Failed to dynamically create configuration for ".concat(t," due to previously existing configuration with the same name.")));else if(i){n.nameSpace[t]=new i(n.config[t]);n.nameSpace[t].isEnabled()&&n.nameSpace[t].initialize()}else o.ErrorReporter.send(new Error("No constructor available in moduleNameToConstructor map for module: ".concat(e)))}})};e.prototype._testConfigForKey=function(t){return e.REGEX_CUSTOM_MODULE_NAME.exec(t)};e.REGEX_CUSTOM_MODULE_NAME=/(.*)__(.*)/;return e}(),o.ModuleFactory=t;V=d=d||{},i=function(){function t(){}t.prototype.isEnabled=function(){return this.configuration.enabled};t.prototype.mergeConfigs=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=V.Shims).assign.apply(t,M([this.configuration],e,!1))};return t}(),V.BaseModule=i;r=d=d||{},t=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.ADVERTISING_PIXEL_ID="ad";e.CONVERSION_PIXEL_ID="cn";e.RETARGETING_PIXEL_ID="rt";e.SMART_PIXEL_ID="db-sync";e.PIXEL_ID_IX="ix";e.PIXEL_ID_MCTV="mctv";e.PIXEL_ID_MAGNITE_DV="rp";e.PIXEL_ID_LR="lr";e.DEFAULT_CONFIGURATION={enabled:!0,key:null,reportingOnly:!1,enableBW:!1,enableLR:!0,enableIX:!0,enableMCTV:!0,enableRP:!0,enableSmartPixel:!0};e.configuration={};e.trackConversion=e.trackConversionListener;e.load=e.initialize;e.loadPixels=e.insertPixels;e._loadPixel=e.insertPixel;e._setCampaign=e.loadCampaign;e._setEvents=e.registerEvents;i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,t||r.Config.Advertising);i.prototype.mergeConfigs.call(e,t||r.Config.ads);return e}t.prototype.initialize=function(){this.insertPixels();!0===this.configuration.reportingOnly&&this.configuration.key&&this.configuration.key!==r.Config.key&&r.IpApiReportingOnly.get(this.configuration.key,!1)};t.prototype.isConversionPage=function(){throw new Error(r.Utilities.generateDeprecationMessage("AdvertisingModule.isConversionPage","8.0.0"))};t.prototype.insertPixels=function(){this.configuration.enableSmartPixel&&this.insertSmartPixel();this.configuration.enableBW&&r.Utilities.Logging.log("BW pixel is deprecated and will not load.");if(this.configuration.enableLR){r.Utilities.Logging.log("LR pixel enabled");this.insertLRPixel(this.ADVERTISING_PIXEL_ID)}};t.prototype.createAndAppendPixel=function(t,e){var i=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0],n=document.createElement("img");n.style.cssText="display: none;";n.setAttribute("alt","");n.setAttribute("aria-hidden","true");n.setAttribute("width","0");n.setAttribute("height","0");n.id=t;n.src=e;i.appendChild(n)};t.prototype.createAndAppendIFrame=function(t,e){var i=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0],n=document.createElement("iframe");n.style.cssText="display: none; border: 0px;";n.setAttribute("alt","");n.setAttribute("aria-hidden","true");n.setAttribute("width","0");n.setAttribute("height","0");n.setAttribute("sandbox","");n.id=t;n.src=e;i.appendChild(n);return n};t.prototype.insertSmartPixel=function(){r.Utilities.Logging.log("insertSmartPixel(): Smart pixel loading");var t=this.buildSmartPixelParameters(),t="".concat(r.Utilities.Constants.URL_SMART_PIXEL,"?").concat(t),e;return this.createAndAppendIFrame(this.SMART_PIXEL_ID,t)};t.prototype.buildSmartPixelParameters=function(){var t=[];t.push(this.PIXEL_ID_LR);this.configuration.enableIX||t.push(this.PIXEL_ID_IX);this.configuration.enableMCTV||t.push(this.PIXEL_ID_MCTV);this.configuration.enableRP||t.push(this.PIXEL_ID_MAGNITE_DV);var e="";return e=0<t.length?"exc=".concat(t.join(",")):e};t.prototype.insertLRPixel=function(t){var t="db_lr_pixel_".concat(t),e=r.Utilities.Constants.PROTOCOL+r.Utilities.Constants.URL_LR_AD_PIXEL;this.createAndAppendPixel(t,e)};t.prototype.insertPixel=function(t){throw new Error(r.Utilities.generateDeprecationMessage("AdvertisingModule.insertPixel","8.0.0"))};t.prototype.loadCampaign=function(){throw new Error(r.Utilities.generateDeprecationMessage("AdvertisingModule.loadCampaign","8.0.0"))};t.prototype.registerEvents=function(){throw new Error(r.Utilities.generateDeprecationMessage("AdvertisingModule.registerEvents","8.0.0"))};t.prototype.trackConversionListener=function(){throw new Error(r.Utilities.generateDeprecationMessage("AdvertisingModule.trackConversionListener","8.0.0"))};t.prototype.virtualPageViewListener=function(){throw new Error(r.Utilities.generateDeprecationMessage("AdvertisingModule.virtualPageViewListener","8.0.0"))};return t}(r.BaseModule),r.AdvertisingModule=t;a=d=d||{},i=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0,assetList:["api.demandbase.com/autocomplete/widget.js","api.demandbase.com/autocomplete/widget.min.js","autocomplete.demandbase.com/autocomplete/widget.js","autocomplete.demandbase.com/autocomplete/widget.min.js","scripts.demandbase.com/formWidget.js","scripts.demandbase.com/formWidgetDebug.js","scripts.demandbase.com/demandbase-sdk.js","scripts.demandbase.com/demandbase-sdk-debug.js","scripts.demandbase.com/forms.js","scripts.demandbase.com/forms.min.js"]};e.ERROR_MESSAGE_PREFIX="Legacy Asset Detected: ";e.configuration={};e.values={};i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,t||a.Config.AssetReporter);return e}t.prototype.initialize=function(){"complete"===a.Utilities.getDocumentReadyState()?this.read():a.Utilities.addEventListener(window,"load",a.ErrorReporter.wrap(this.read.bind(this)))};t.prototype.read=function(){for(var t=this.configuration.assetList.length,e=0;e<t;e++){var i=this.configuration.assetList[e],n;if(document.querySelector("script[src='".concat(a.Utilities.Constants.PROTOCOL).concat(i,"']"))){this.values[i]=!0;this.send(i)}else this.values[i]=!1}};t.prototype.send=function(t){var t=new Error(this.ERROR_MESSAGE_PREFIX+t);a.ErrorReporter.send(t)};return t}(a.BaseModule),a.AssetReporterModule=i;l=d=d||{},t=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0};e.configuration={};e.mods={};i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,t||l.Config.Content);l.Shims.assign(e.configuration,t||l.Config.content);return e}t.prototype.initialize=function(){l.Utilities.Callbacks.registerCallback(this.callback.bind(this));this.setup()};t.prototype.callback=function(){this.setup();this.modify()};t.prototype.setup=function(){if(void 0!==l.Config.content)for(var t in l.Config.content){var t=l.Config.content[t],t=window.Demandbase.DBContentBuilder.build(t);t&&(this.mods[t.name]=t)}};t.prototype.modify=function(){var o=this;return l.ErrorReporter.wrap(function(){var t=!1,e,i,n;for(e in o.mods){o.mods.hasOwnProperty(e)&&(n=o.mods[e].run())}})()};return t}(l.BaseModule),l.ContentModule=t;u=d=d||{},i=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0,fireOnLoad:!1,formInputSelectors:['input[type="text"]','input[type="email"]'],inputSearchTerms:["email","user","login"]};e.configuration={};e.baseUrl="https://segments.company-target.com";e.activeSetTimeout=0;i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,t||u.Config.EmailDomainReporter);return e}t.prototype.initialize=function(){this.configuration.fireOnLoad&&this.sendDataIfAlreadyPresent();this.attachListenersIfDocumentReady()};t.prototype.sendDataIfAlreadyPresent=function(){var e=this,t=this.suspectedEmailInputs();t.length<1||t.forEach(function(t){var t=t.value;if(u.Utilities.isValidEmail(t)){var t=t.split("@")[1].toLowerCase();e.send(t)}})};t.prototype.attachListenersIfDocumentReady=function(){var n=this;"loading"===u.Utilities.getDocumentReadyState()?document.addEventListener("DOMContentLoaded",this.attachListenersIfDocumentReady.bind(this)):this.suspectedEmailInputs().forEach(function(i){i.addEventListener("input",function(){var t=i.value;if(u.Utilities.isValidEmail(t)){var e=t.split("@")[1].toLowerCase();window.clearTimeout(n.activeSetTimeout);n.activeSetTimeout=window.setTimeout(function(){n.send(e)},400)}})})};t.prototype.suspectedEmailInputs=function(){var n=this,t,e;return u.Utilities.nodeListToArray(document.querySelectorAll(this.configuration.formInputSelectors.join(","))).map(function(t){return t}).filter(function(t){var e=t.name.toLowerCase(),t=t.id.toLowerCase(),i=n.configuration.inputSearchTerms;return!!u.Utilities.includesAny(e,i)||!!u.Utilities.includesAny(t,i)})};t.prototype.send=function(t){var e,i=(window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),u.Config.key||u.Utilities.dig(u.Config,"analytics","key")||u.Utilities.dig(u.Config,"ads","key")||u.Utilities.dig(u.Config,"forms","key")||""),t=u.Utilities.b64EncodeUnicode("vendor=mariposa&p1=".concat(t,"&token=").concat(i)),i="".concat(this.baseUrl,"/l/").concat(t);try{e.open("GET",i);e.withCredentials=!0;e.setRequestHeader("Content-type","application/json");e.send()}catch(t){throw t}};t.prototype.responseHandler=function(t){};return t}(u.BaseModule),u.EmailDomainReporterModule=i;g=d=d||{},t=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.VERSION="0.0.0";e.PROJECT_ID="141580";e.PROJECT_KEY="9a0a3519e930259f5886a7af53b0ccaa";e.SENTRY_PROJECT_ID="1190150";e.SENTRY_PUBLIC_KEY="3c9d467f8a9d4295b0f8320ae852091d";e.DEFAULT_CONFIGURATION={environment:"production",ignorableErrors:[]};e.configuration={};e.additionalErrorDetails={};i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,t||g.Config.ErrorReporter);return e}t.prototype.initialize=function(){};t.prototype.send=function(t){if(!(-1<g.Shims.indexOf(this.configuration.ignorableErrors,t.name)||-1<g.Shims.indexOf(this.configuration.ignorableErrors,t.message))){var e,i=(window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),"https://sentry.io/api/".concat(this.SENTRY_PROJECT_ID,"/store/?sentry_version=7&sentry_key=").concat(this.SENTRY_PUBLIC_KEY));try{e.open("POST",i,!0);e.setRequestHeader("Content-type","text/plain;charset=UTF-8");e.send(this.formatMessage(t,!0))}catch(t){}}};t.prototype.wrap=function(i){var n=this;if("function"!=typeof i)throw new Error("Invalid Function: ".concat(i));return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{if(void 0!==i&&"function"==typeof i.apply)return i.apply(n,t)}catch(t){n.send(t);g.Utilities.Logging.alert("Error: ".concat(t,"\n").concat(t.stack))}}};t.prototype.formatMessage=function(t,e){void 0===e&&(e=!1);var t=this.parseError(t),i=this.parseContext(),n=this.parseEnviroment(),o=this.parseSession(),r=this.parseParams(),a=this.additionalErrorDetails,e;return e?(e=this.formatErrorForSentry(t),g.Shims.JSON.stringify({logger:i.notifier.name,platform:"javascript",release:i.version,environment:i.environment,request:{url:i.url},contexts:{browser:{userAgent:i.userAgent}},tags:{clientId:n.config.clientId},extra:{readyState:i.readyState,config:n.config,companyProfile:o,additionalErrorDetails:a},exception:{values:[e]}})):g.Shims.JSON.stringify({errors:[t],context:i,environment:n,session:o,params:r})};t.prototype.formatErrorForSentry=function(t){for(var e=[],i=0,n=t.backtrace;i<n.length;i++){var o=n[i];e.push({function:o.function,filename:o.file,lineno:o.line,colno:o.column})}return{type:t.type,value:t.message,stacktrace:{frames:e}}};t.prototype.parseError=function(t){return{type:t.name,message:t.message,backtrace:g.Utilities.ErrorStackParser.parse(t)}};t.prototype.parseContext=function(){return{notifier:{name:"ErrorReporterModule",version:this.VERSION},environment:this.configuration.environment,version:g.version,url:window.location.href,userAgent:navigator.userAgent,rootDirectory:window.location.origin,readyState:document.readyState}};t.prototype.parseEnviroment=function(){return{config:g.Utilities.dig(g,"Config")}};t.prototype.parseSession=function(){return{companyProfile:g.Utilities.dig(g,"IP","CompanyProfile")}};t.prototype.parseParams=function(){return{}};return t}(g.BaseModule),g.ErrorReporterModule=t;f=d=d||{},i=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.TYPES={EXPERIENCE_FIRED:"experience_fired"};e.API_ENDPOINT=f.Utilities.setHttpsProtocol(f.Utilities.dig(f,"Config","Event","server")||f.Utilities.Constants.URL_EVENT_API);e.EVENTS_ENDPOINT="".concat(e.API_ENDPOINT,"/events/");e.DEFAULT_CONFIGURATION={enabled:!1};e.initialized=!1;e.configuration={};e.token=f.Utilities.getApiAuthToken();e.initialize(t);return e}t.prototype.initialize=function(t){try{f.Shims.assign(this.configuration,f.Utilities.dig(f,"Config","Event"),t);this.initialized=!0}catch(t){this.initialized=!1;f.ErrorReporter.send(t)}};t.prototype.createRequest=function(){var t;window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP"));return t};t.prototype.sendExperienceFiredEvent=function(n){return e(this,void 0,void 0,function(){var e,i;return c(this,function(t){if(this.configuration.enabled){this.initialized||this.initialize();e=this.createRequest();i={token:this.token,uuid:f.Utilities.generateUuid(),type:this.TYPES.EXPERIENCE_FIRED,amazon_request_id:f.Utilities.dig(f,"Config","IpApiModule","cloudFrontRequestId")||"",extra:{xp_id:n}};try{e.open("POST",this.EVENTS_ENDPOINT);void 0!==e.withCredentials&&(e.withCredentials=!0);e.send(JSON.stringify(i));f.Utilities.Logging.log("Event API Post Request Succeeded")}catch(t){f.Utilities.Logging.log("Event API Post Request Failed");throw t}}else f.Utilities.Logging.log("Event delivery is disabled in the tag config. The event will not be sent.");return[2]})})};return t}(f.BaseModule),f.EventApiModule=i;p=d=d||{},t=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.FORMS_REMOTE_MODULE_URL="tag.demandbase.com/shared/forms_1e03646ec0.min.js";e.DEFAULT_CONFIGURATION={enabled:void 0,emailID:null,emailFields:[]};e.configuration={};e.inserted=!1;e.setConfiguration(t);return e}t.prototype.initialize=function(){p.Utilities.Callbacks.registerCallback(this.whenReady.bind(this))};t.prototype.whenReady=function(){this.isMktoForms2Installed()?window.MktoForms2.whenReady(p.ErrorReporter.wrap(this.load.bind(this))):this.load()};t.prototype.load=function(){var t=!1;if("function"==typeof p.Config.isFormPage){t=p.Config.isFormPage();this.setConfiguration();t=p.Config.isFormPage()}else t=this.isFormPage();t&&!this.inserted&&this.insertForms()};t.prototype.isFormPage=function(){var t=this.configuration.emailFields;this.configuration.emailID&&t.push(this.configuration.emailID);for(var e=0;e<t.length;e++)if(p.Utilities.getElementByIdOrName(t[e]))return!0;return!1};t.prototype.isMktoForms2Installed=function(){return void 0!==window.MktoForms2&&void 0!==window.MktoForms2.whenReady};t.prototype.insertForms=function(){this.inserted=!0;p.Connectors.initWebForm=this.initializeWebForm;p.Utilities.insertScript(p.FormsLoader.FORMS_REMOTE_MODULE_URL,"db_form_module")};t.prototype.initializeWebForm=function(t){t=t||p.Config.forms||p.Config.Forms||{};window.Demandbase.Connectors.WebForm.connect(t)};t.prototype.setConfiguration=function(t){i.prototype.mergeConfigs.call(this,this.DEFAULT_CONFIGURATION,t||p.Config.Forms);void 0===this.configuration.enabled&&void 0!==p.Config.Forms&&(this.configuration.enabled=!0);i.prototype.mergeConfigs.call(this,this.DEFAULT_CONFIGURATION,t||p.Config.forms);void 0===this.configuration.enabled&&void 0!==p.Config.forms&&(this.configuration.enabled=!0)};return t}(p.BaseModule),p.FormsLoaderModule=t;h=d=d||{},i=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0,events:null,fieldMap:null,googleAnalyticsClassicScope:2,trackerName:null,trackerId:null,polling:null,eventName:"Demandbase_Event"};e.configuration=h.Shims.assign({},e.DEFAULT_CONFIGURATION);e.cachedEvents=[];e.pollCount=0;e.gType="";e._cEvent=e.sendEvent;i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,t||h.Config.Google_Analytics);i.prototype.mergeConfigs.call(e,t||h.Config.analytics);return e}t.prototype.initialize=function(){this._detectG();this._setTrackerName();this.configuration.polling&&this.configuration.polling.enabled&&this._waitForGATrackers();this.configuration.fieldMap&&"{}"!==h.Shims.JSON.stringify(this.configuration.fieldMap)&&h.Utilities.Callbacks.registerCallback(this.callback.bind(this));this._setEvents()};t.prototype.sendEvent=function(t,e,i){if(this.configuration.polling&&this.configuration.polling.enabled&&!this.configuration.polling.hasBeenInitialized){this.cachedEvents.push({category:t,action:e,label:i});h.Utilities.Logging.log("Cache Custom Event:UA: ".concat(t,"/").concat(e,"/").concat(i))}else{"ga"===this.gType?this._trackEvent(t,e,i):window.ga&&"function"==typeof window.ga?window.ga(function(){h.Connectors.Google_Analytics._sendEvent(t,e,i)}):h.Utilities.Logging.log("sendEvent(): window.ga is not defined or not a function. Failed to send Custom UA Event:".concat(t,"/").concat(e,"/").concat(i));h.Utilities.Logging.log("sendEvent(): Sent Custom UA Event:".concat(t,"/").concat(e,"/").concat(i))}};t.prototype._waitForGATrackers=function(){this.configuration.polling.hasBeenInitialized=!1;if((window.ga&&window.ga.getAll&&0<window.ga.getAll().length||window.dataLayer)&&!this.configuration.polling.hasBeenInitialized){h.Utilities.Logging.log("Loaded with polling count:"+this.pollCount);this._sendCachedEventsWhenPollingEnd()}else if(this.pollCount>this.configuration.polling.maxCount||this.configuration.polling.hasBeenInitialized){this._sendCachedEventsWhenPollingEnd();h.Utilities.Logging.log("From base-google-analytics: GA is giving up on polling with count: "+this.pollCount)}else{h.Utilities.Logging.log("From base-google-analytics: Polling one more time: Count: "+this.pollCount);this.pollCount++;setTimeout(this._waitForGATrackers.bind(this),this.configuration.polling.interval)}};t.prototype._sendCachedEventsWhenPollingEnd=function(){var a=this;this.configuration.polling.hasBeenInitialized=!0;h.Utilities.Logging.log("_sendCachedEventsWhenPollingEnd(): sending ".concat(this.cachedEvents.length," cached events to GA"));this.cachedEvents.forEach(function(t){var e=t.gaType,i=t.category,n=t.action,o=t.label,r=t.eventName,t=t.payload;"ga4"===e&&r&&t?a.sendEventGA4(r,t):a.sendEvent(i,n,o)});this.cachedEvents=[];this.pollCount=0};t.prototype._setTrackerName=function(){var r=this;if(!this.configuration.trackerName){var t="function"==typeof window.ga,e;if(void 0!==window._gat&&"function"==typeof window._gat._getTrackers){var i=_gat._getTrackers();if(void 0!==i.length&&0<i.length){if(this.configuration.trackerId)for(var n=0;n<i.length;n++)if(0<i[n]._getName().length){var o=i[n]._getName();if(i[n]._getAccount()===this.configuration.trackerId&&!this.configuration.trackerName)return void(this.configuration.trackerName=o)}var a=i[0]||null;if(a&&"function"==typeof a._getName){var a=a._getName()||null;this.configuration.trackerName||(this.configuration.trackerName=a)}}}t&&window.ga(function(){var t=window.ga.getAll()||[],e;if(r.configuration.trackerId)for(var i=0;i<t.length;i++){var e,n=(e=t[i]).get("name");if(e.get("trackingId")===r.configuration.trackerId){return r.configuration.trackerName=n,void 0}}if(void 0!==t.length&&0<t.length){if((e=t[0]||null)&&"function"==typeof e.get){var o=e.get("name")||null;r.configuration.trackerName=o}}})}};t.prototype.isGA4=function(){var t=this.configuration.trackerId||"";return"ga4"===this.gType||"string"==typeof t&&h.Shims.startsWith(t,"G-",0)||!1};t.prototype.getCachedEvents=function(){return this.cachedEvents};t.prototype.sendEventGA4=function(t,e){if(this.configuration.polling&&this.configuration.polling.enabled&&!this.configuration.polling.hasBeenInitialized&&!window.dataLayer){this.cachedEvents.push({gaType:"ga4",eventName:t,payload:e});h.Utilities.Logging.log("sendEventGA4(): Cached Custom Event: eventName: ".concat(t," with payload: ").concat(JSON.stringify(e)))}else if(window.dataLayer){this.configuration.trackerId&&(e.send_to=this.configuration.trackerId);this.dbgtag("event",t,e);h.Utilities.Logging.log("sendEventGA4(): Successfully pushed event: eventName: ".concat(t," with payload: ").concat(JSON.stringify(e)))}else h.Utilities.Logging.log("sendEventGA4(): Datalayer was not defined, not sending eventName: ".concat(t," with payload: ").concat(JSON.stringify(e)))};t.prototype.dbgtag=function(){window.dataLayer.push(arguments)};t.prototype.callback=function(t){try{if(!t)throw new Error("Error - no data passed to callback");var e=h.Connectors.Google_Analytics;e._detectG();e._setTrackerName();var i={},n;for(n in e.configuration.fieldMap)if(e.configuration.fieldMap.hasOwnProperty(n)){var o=+n,r=e.configuration.fieldMap[n],a=h.Utilities.getAttributeValue(t,r);i[n]=a;e._var(o,r,a.toString())}if(e.isGA4()){var s=e.configuration.eventName||"Demandbase IP API Resolution";e.sendEventGA4(s,i)}else e.sendEvent("Demandbase","API Resolution","IP API")}catch(t){h.Utilities.Logging.log("GA Error: ".concat(t,"\n").concat(t.stack));h.Connectors.Google_Analytics.isGA4()?h.Connectors.Google_Analytics.sendEventGA4("Demandbase IP API Callback Error",{}):h.Connectors.Google_Analytics.sendEvent("Demandbase","API Resolution","Callback Error")}};t.prototype._detectG=function(){if(window._gaq){this.gType="ga";_gaq.push(["_addDevId","NE7T9"])}else this.gType=null;this._setGaObject();try{window.ga(function(){h.Connectors.Google_Analytics.gType="ua"})}catch(t){h.Connectors.Google_Analytics.gType="ua"}this.isGA4()&&(this.gType="ga4");h.Utilities.Logging.log("Detected Google version: ".concat(this.gType))};t.prototype._sendEvent=function(t,e,i){if(window.ga&&"function"==typeof window.ga){var n=this.configuration.trackerName?"".concat(this.configuration.trackerName,".send"):"send",t={eventCategory:t,eventAction:e,eventLabel:i,nonInteraction:!0};h.Utilities.Logging.log("_sendEvent(): ".concat(n,', "event", with payload: ').concat(JSON.stringify(t)));window.ga(n,"event",t)}else h.Utilities.Logging.log("_sendEvent(): ga is not defined or not a function: "+window.ga)};t.prototype._setCustomDimension=function(t,e){if(window.ga&&"function"==typeof window.ga){var i=this.configuration.trackerName?"".concat(this.configuration.trackerName,".set"):"set";h.Utilities.Logging.log("_setCustomDimension(): command=".concat(i," index=").concat(t," value=").concat(e));window.ga(i,"dimension".concat(t),e)}else h.Utilities.Logging.log("_setCustomDimension(): ga is not defined or not a function: "+window.ga)};t.prototype._setCustomVariable=function(t,e,i){var n=this.configuration.trackerName?"".concat(this.configuration.trackerName,"._setCustomVar"):"_setCustomVar",o=this.configuration.googleAnalyticsClassicScope||2;h.Utilities.Logging.log("_setCustomVariable(): command=".concat(n," index=").concat(t," scope=").concat(o," name=").concat(e," value=").concat(i));window._gaq.push([n,t>>0,e,i,o])};t.prototype._setEvents=function(){var t=this.configuration.events||[];if(t)for(var e in t)if(t.hasOwnProperty(e)){var e=t[e];if(e.data){var i=e.data.category||"",n=e.data.action||"",o=e.data.label||"";void 0===e.listener&&i&&n&&o?e.listener=function(){h.Connectors.Google_Analytics.sendEvent(i,n,o);h.Utilities.Logging.log("Event listener ran")}:i&&n&&o||h.Utilities.Logging.log("Need to define a custom listener function or set data with category/action/label")}h.Utilities.Events.add(e)}};t.prototype._setGaObject=function(){if(void 0===window.ga){window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)};window.ga.l=+new Date}};t.prototype._trackEvent=function(t,e,i){var n=this.configuration.trackerName?"".concat(this.configuration.trackerName,"._trackEvent"):"_trackEvent";h.Utilities.Logging.log("_trackEvent(): command=".concat(n," category=").concat(t," action=").concat(e," label=").concat(i));window._gaq.push([n,t,e,i,0,1])};t.prototype._var=function(t,e,i){"ga"===this.gType?this._setCustomVariable(t,e,i):window.ga&&"function"==typeof window.ga?window.ga(function(){h.Connectors.Google_Analytics._setCustomDimension(t,i)}):h.Utilities.Logging.log("_var(): Failure to set GA var. GA is not defined or not a function: "+window.ga);h.Utilities.Logging.log("".concat(t," ").concat(e," : ").concat(i))};return t}(h.BaseModule),h.BaseGoogle_AnalyticsModule=i;t=d=d||{},i=function(t){n(e,t);function e(){return null!==t&&t.apply(this,arguments)||this}e.prototype.getTrackerInfo=function(){var e=[],i=[],t,n;void 0!==window._gaq&&void 0!==window._gat&&"function"==typeof window._gat._getTrackers&&window._gat._getTrackers().forEach(function(t){0<t._getName().length&&e.push({type:"classic",trackerId:t._getAccount(),name:t._getName()})});void 0!==window.ga&&void 0!==window.ga.getAll&&window.ga.getAll().forEach(function(t){i.push({type:"universal",trackerId:t.get("trackingId"),name:t.get("name")})});return i.concat(e)};return e}(t.BaseGoogle_AnalyticsModule),t.Google_AnalyticsModule=i;m=d=d||{},t=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.DEFAULT_CONFIGURATION={enabled:!0};e.configuration={};i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,t||m.Config.Google_TagManager);return e}t.prototype.initialize=function(){m.Utilities.Callbacks.registerCallback(this.callback.bind(this))};t.prototype.callback=function(t){m.Connectors.Google_TagManager.pushToDataLayer(t)};t.prototype.pushToDataLayer=function(t,e){if(!window.google_tag_manager||!window.dataLayer||"function"!=typeof dataLayer.push)return!1;var e=e?"_".concat(e):"";dataLayer.push(t);dataLayer.push({event:"Demandbase_Loaded".concat(e)});m.Utilities.Logging.log("Pushed to GTM dataLayer");return!0};return t}(m.BaseModule),m.Google_TagManagerModule=t;y=d=d||{},i=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.TEST_MODE_ENABLED="db_useTestIp";e.TEST_MODE_VALUE="db_ip";e.API_VERSION="v2"===y.Utilities.dig(y,"Config","general","APIVersion")?"v2":"v3";e.API_ENDPOINT="api.company-target.com/api/".concat(e.API_VERSION,"/ip.json");e.REGEX_API_ENDPOINT_VERSION=/.com\/api\/(v[0-9]+)\/ip.json/g;e.TAG_LOGGER_ENDPOINT="tag-logger.demandbase.com/bg9s";e.DEFAULT_CONFIGURATION={apiKey:null,baseUrl:e.API_ENDPOINT,baseLoggerUrl:e.TAG_LOGGER_ENDPOINT,testModeEnabled:!1,testModeValue:null,masIntegrations:{pardot:!1},enablePardotPolling:!0};e.configuration={};e.initialized=!1;e.pollForPardotStart=0;e.pardotMaxPollWindow=5e3;e.key=e.configuration.apiKey;e.useTestValue=e.configuration.testModeEnabled;e.testValue=e.configuration.testModeValue;e.load=e.get;e._loadOnce=e.getOnce;e.CompanyProfile=void 0;e.isCalled=!1;e.experiences={};try{i.prototype.mergeConfigs.call(e,e.DEFAULT_CONFIGURATION,{apiKey:y.Config.key||y.Utilities.dig(y.Config,"analytics","key")||y.Utilities.dig(y.Config,"ads","key")||y.Utilities.dig(y.Config,"forms","key"),testModeEnabled:y.Utilities.getQueryParam(e.TEST_MODE_ENABLED)||y.Config.useTestIp,testModeValue:y.Utilities.getQueryParam(e.TEST_MODE_VALUE)||y.Config.testIp},y.Utilities.getFirstNonEmptyObject(t,y.Config.IpApiModule,y.Utilities.dig(y.Config,"general","IpApiModule")));e.initialized=!0}catch(t){e.initialized=!1}return e}t.prototype.initialize=function(){try{y.Shims.assign(this.configuration,{apiKey:y.Config.key||y.Utilities.dig(y.Config,"analytics","key")||y.Utilities.dig(y.Config,"ads","key")||y.Utilities.dig(y.Config,"forms","key"),testModeEnabled:y.Utilities.getQueryParam(this.TEST_MODE_ENABLED)||y.Config.useTestIp,testModeValue:y.Utilities.getQueryParam(this.TEST_MODE_VALUE)||y.Config.testIp});this.initialized=!0}catch(t){this.initialized=!1;y.ErrorReporter.send(t)}};t.prototype.buildIPAPIParameters=function(n){return e(this,void 0,void 0,function(){var e,i;return c(this,function(t){switch(t.label){case 0:e={query:this.fetchIpAddress(),mas_integrations:void 0,src:"tag"};return document.interestCohort?[4,document.interestCohort()]:[3,2];case 1:i=t.sent();e.cohort_id=i.id;e.cohort_version=i.version;t.label=2;case 2:return y.Config.isVoltronEnabled?[2,y.Shims.assign(e,{auth:n||this.configuration.apiKey})]:[2,y.Shims.assign(e,{key:n||this.configuration.apiKey})]}})})};t.prototype.get=function(s,l){void 0===s&&(s=void 0);void 0===l&&(l=!0);return e(this,void 0,void 0,function(){var e,i,n,o,n,r,a=this;return c(this,function(t){switch(t.label){case 0:this.initialized||this.initialize();window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP"));return e&&!y.Utilities.isOldBrowserOrUserAgentUnavailable()?[3,2]:[4,this.getByDomScript(s,l)];case 1:t.sent();return[2,y.Utilities.Logging.log("IP API query via DOM tag")];case 2:return[4,this.buildIPAPIParameters(s)];case 3:i=t.sent();(n=y.Utilities.getQueryParam(y.Utilities.Constants.QS_PREVIEW_TOKEN))&&(i.preview_token=n);if(!i.key&&!i.auth)return[2,y.Utilities.Logging.log("IP API query cancelled - check auth key.")];(o=this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot)?i.mas_integrations=y.Utilities.b64EncodeUnicode(y.Shims.JSON.stringify({pardot:this.fetchOrPollForPardotCookie()||{}})):y.Utilities.Logging.log("No Pardot integration in config, skipping cookie sync");l&&(e.onreadystatechange=y.ErrorReporter.wrap(function(){a.responseHandler(e)}));t.label=4;case 4:t.trys.push([4,6,,7]);e.open("POST","https://".concat(y.Utilities.Api.buildApiUrl(this.configuration.baseUrl)));return[4,this.getThirdPartyOptInLabel()];case 5:(n=t.sent())&&(i.cookie_deprecation_label=n);void 0!==e.withCredentials&&(e.withCredentials=!0);e.send(JSON.stringify(i));return[3,7];case 6:r=t.sent();if(0!==e.status)throw r;if(this.isIgnorableDevice())return[3,7];throw new Error("IP API Request Blocked");case 7:return[2]}})})};t.prototype.getAPIVersion=function(){var t=this.configuration.baseUrl,t=this.REGEX_API_ENDPOINT_VERSION.exec(t);return t&&2===t.length?t[1]:"v3"};t.prototype.getThirdPartyOptInLabel=function(){return e(this,void 0,void 0,function(){var e,i;return c(this,function(t){switch(t.label){case 0:t.trys.push([0,3,,4]);return void 0===window.navigator||void 0===window.navigator.cookieDeprecationLabel||"function"!=typeof window.navigator.cookieDeprecationLabel.getValue?[3,2]:[4,window.navigator.cookieDeprecationLabel.getValue()];case 1:return[2,e=t.sent()];case 2:return[2,""];case 3:i=t.sent();y.Utilities.Logging.log("Error getting third party opt in"+i+" stack: "+i.stack);return[2,""];case 4:return[2]}})})};t.prototype.callTagLogger=function(t){var n=t.xAmzCfId;return e(this,void 0,void 0,function(){var e,i,i;return c(this,function(t){window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP"));i=this.getAPIVersion();i={"x-amz-cf-id":n,"api-version":i};try{e.open("GET","https://".concat(this.configuration.baseLoggerUrl).concat(y.Utilities.Api.buildQueryString(i,!1)));void 0!==e.withCredentials&&(e.withCredentials=!1);e.send()}catch(t){if(0!==e.status)throw t;if(!this.isIgnorableDevice())throw new Error("Tag IPV6 request declined")}return[2]})})};t.prototype.isIgnorableDevice=function(){for(var t=0;t<y.Utilities.Constants.NON_HUMAN_DEVICES.length;t++)if(y.Utilities.Constants.NON_HUMAN_DEVICES[t].test(window.navigator.userAgent))return!0;return!1};t.prototype.getByDomScript=function(r,a){void 0===r&&(r=void 0);void 0===a&&(a=!0);return e(this,void 0,void 0,function(){var e,i,n,o;return c(this,function(t){switch(t.label){case 0:n=(i=y.Shims).assign;o=[{}];return[4,this.buildIPAPIParameters(r)];case 1:if(!(e=n.apply(i,o.concat([t.sent(),{callback:a?"Demandbase.Utilities.Callbacks.domScriptCallback":""}])))&&!e.auth)return[2,y.Utilities.Logging.log("IP API query cancelled - check auth key.")];y.Utilities.insertScript(y.Utilities.Api.buildApiUrl(this.configuration.baseUrl,e),"db_ip_api");return[2]}})})};t.prototype.getOnce=function(){if(this.isCalled)y.Utilities.Logging.log("IP API call halted. Already called.");else{this.isCalled=!0;this.get()}};t.prototype.fetchIpAddress=function(){if(this.configuration.testModeEnabled)return this.configuration.testModeValue};t.prototype.responseHandler=function(e){if(4===e.readyState&&200===e.status){var i=e.responseText;try{var t=y.Shims.JSON.parse(i);this.parseResponseForExperiences(t);this.CompanyProfile=y.Utilities.flatten(t);if(!this.CompanyProfile)throw y.Utilities.Logging.log("IP API response is not a valid value for callbacks: "+JSON.stringify(this.CompanyProfile)),new Error("IP API response was 200 but content invalid");y.Utilities.Callbacks.callback(this.CompanyProfile);var n=e.getResponseHeader("x-amz-cf-id");if(n){y.Utilities.dig(y,"Config","IpApiModule")&&(y.Config.IpApiModule.cloudFrontRequestId=n);this.callTagLogger({xAmzCfId:n})}}catch(t){y.ErrorReporter.additionalErrorDetails={status:e.status,readyState:e.readyState,url:e.responseURL,body:i};throw"string"==typeof i&&i?t:new Error("responseText should be text and not empty")}}};t.prototype.parseResponseForExperiences=function(t){if(t&&t.hasOwnProperty("experiences")){y.Utilities.Logging.log("IpAPI.parseResponseForExperiences(): Experiences present in IP API response.");this.experiences=t.experiences}return this.experiences};t.prototype.fetchOrPollForPardotCookie=function(){var t;if(this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot){var e=y.Utilities.getCookiesByRegex(y.Utilities.Constants.PARDOT_VISITOR_COOKIE_REGEX,document);if("object"==typeof e&&0<y.Shims.keys(e).length){return y.Utilities.Logging.log("Found Pardot cookie, including in API request"),e}var e=this.configuration.enablePardotPolling&&0===this.pollForPardotStart;if(!1!==e){y.Utilities.Logging.log("Pardot cookie not found, initiating polling");this.pollForPardotCookie()}}else y.Utilities.Logging.log("No Pardot integration in config, skipping cookie sync")};t.prototype.pollForPardotCookie=function(){var t=this,e,i,n;if(0===this.pollForPardotStart){this.pollForPardotStart=Date.now();y.Utilities.Logging.log("Pardot cookie polling started at ".concat(this.pollForPardotStart))}if(Date.now()-this.pollForPardotStart>this.pardotMaxPollWindow)y.Utilities.Logging.log("Pardot cookie not found within ".concat(this.pardotMaxPollWindow," ms"));else{if(this.fetchOrPollForPardotCookie()){y.Utilities.Logging.log("Pardot cookie found, making second API call");this.get(void 0,!1)}else window.setTimeout(function(){t.pollForPardotCookie()},100)}};return t}(y.BaseModule),y.IpApiModule=i;v=d=d||{},t=function(i){n(t,i);function t(t){var e=i.call(this)||this;e.DEFAULT_CONFIGURATION={isEnabled:!1,experiences:{},retryMS:0,totalWaitTime:0};e.SC_QUERY_PARAMETER_FORCE_FIRE="db_sc_experience_by_id";e.preTagModuleEnabled=!1;e.configuration=v.Shims.assign({},e.DEFAULT_CONFIGURATION);e.wrappedExperiences={};e.initialized=!1;e.preTagModuleEnabled=!!v.PreTag;i.prototype.mergeConfigs.call(e,e.configuration,e.DEFAULT_CONFIGURATION,v.Config.SiteCustomization,t);return e}t.prototype.isEnabled=function(){return!0===this.configuration.isEnabled||!0===this.configuration.enabled};t.prototype.initialize=function(){if(this.isEnabled()){v.Utilities.Logging.log("SiteCustomization.initialize(): Initializing...");this.setup();v.Utilities.Callbacks.registerCallback(this.callback.bind(this))}else v.Utilities.Logging.log("Site Customization is currently disabled, will not fire.")};t.prototype.callback=function(){if(this.fireExperienceByQueryParameter())v.Utilities.Logging.log("SiteCustomization.callback(): Experience already forced to fire by query parameter!");else{v.Utilities.Logging.log("SiteCustomization.callback(): Invoked! Setting up SC and firing.");this.setup();this.fireSiteCustomization();this.preTagModuleEnabled&&v.PreTag.restorePageVisibility()}};t.prototype.setup=function(t){if(!t&&this.initialized)v.Utilities.Logging.log("SiteCustomization.setup(): already initilaized! not running setup again.");else if(void 0!==this.configuration.experiences){var e=this.configuration.experiences||{},t=v.Shims.keys(e)||[],i;v.Utilities.Logging.log("SiteCustomization.setup(): Wrapping ".concat(t.length," experiences for setup"));for(i in e){var n=e[i],n=new j(n);n&&(this.wrappedExperiences[n.id]=n)}this.initialized=!0}};t.prototype.fireSiteCustomization=function(){var o=this;return v.ErrorReporter.wrap(function(){var e=v.IpApi.experiences;v.Utilities.Logging.log("fireSiteCustomization(): Running for IP API experiences: ".concat(JSON.stringify(e)));if(e){for(var t=Object.keys(e).map(function(t){return e[t]}),i=o.sortExperiencesToFire(t),n=0;n<i.length;n++)if(o.applyExperience(i[n].id))return!0}else v.Utilities.Logging.log("fireSiteCustomization(): Error firing SC experience. IP API response does not contain valid experiences.");return!1})()};t.prototype.sortExperiencesToFire=function(t){var o=this;if(!t||!Array.isArray(t)||0===t.length){return v.Utilities.Logging.log("sortExperiencesToFire(): No expereinces returned by IP API: ".concat(JSON.stringify(t))),[]}t.sort(function(t,e){var i=o.wrappedExperiences[t.id]?o.wrappedExperiences[t.id].priority:null,n=o.wrappedExperiences[e.id]?o.wrappedExperiences[e.id].priority:null;i&&n||v.Utilities.Logging.log("sortExperiencesToFire(): Warning: priority is not defined ".concat(i," or ").concat(n));return i!==n&&i&&n?n-i:t.updated_at&&e.updated_at?new Date(e.updated_at).getTime()-new Date(t.updated_at).getTime():(v.Utilities.Logging.log("sortExperiencesToFire(): Warning: updated_at is not defined ".concat(t.updated_at," or ").concat(e.updated_at)),0)});return t};t.prototype.fireExperienceById=function(t){this.setup();v.Utilities.Logging.log("fireExperienceById(): Firing by experience id: ".concat(t));return this.applyExperience(t,!0)};t.prototype.fireExperienceByQueryParameter=function(){var t=v.Utilities.getQueryParam(this.SC_QUERY_PARAMETER_FORCE_FIRE);if(t){v.Utilities.Logging.log("fireExperienceByQueryParameter(): Firing experience id: ".concat(t," now"));this.setup();return this.applyExperience(t,!0)}v.Utilities.Logging.log('fireExperienceByQueryParameter(): Not firing experience id: "'.concat(t,'" as it is not valid'));return!1};t.prototype.applyExperience=function(t,e){void 0===e&&(e=!1);v.Utilities.Logging.log("applyExperience(): Requested to apply Experience ID: ".concat(t," with forceRun of ").concat(e));if(t&&this.wrappedExperiences.hasOwnProperty(t)){var i=this.wrappedExperiences[t];if(i)return e?i.forceRun():i.run();v.Utilities.Logging.log("applyExperience(): Experience ID: ".concat(t," modobj not truthy: ").concat(JSON.stringify(i)))}else v.Utilities.Logging.log("applyExperience(): Experience ID: ".concat(t," not found in ").concat(JSON.stringify(this.wrappedExperiences,null,4)));return!1};t.prototype.getCompanyProfile=function(){return v.IpApi&&v.IpApi.CompanyProfile||{}};t.prototype.CP=function(){return this.getCompanyProfile()};t.prototype.generateChangeActionValue=function(t,e){var i=this.getCompanyProfile(),n;return!Object.keys(i).length&&!e.length||e.every(function(t){return i[t]})?t:null};t.prototype.applyModifications=function(i,n){var e=this,o=0,r=0,a=function t(e){e?r+=1:o+=1;if(o+r>=i.length){v.Utilities.Logging.log("applyModifications(): All modifications have returned");n&&n(0===o)}return e};i.forEach(function(t){e.applyModificationRetry(t,a.bind(e),0)})};t.prototype.applyModificationRetry=function(t,e,i){var n=t.value,o=t.aliases,r=t.selector,t=t.typeKey,a=document.querySelector(r);if(a){var s=this.generateChangeActionValue(n,o);if("string"!=typeof s)return v.Utilities.Logging.log("applyModificationRetry(): No change action applied for selector: "+r+" after "+i+" attempts."),e(!1);t.includes("backgroundImage")&&(s="url("+s+")");v.Utilities.set(a,t,s);v.Utilities.Logging.log("applyModificationRetry(): Successfully applied for selector: "+r+" after "+i+" attempts.");return e(!0)}if(i*this.configuration.retryMS>=this.configuration.totalWaitTime)return v.Utilities.Logging.log("applyModificationRetry(): Applying modification for querySelector: "+r+" timeout after "+i+" attempts."),e(!1);v.Utilities.Logging.log("applyModificationRetry(): Retrying for selector: "+r+" currently at "+i+" attempts.");setTimeout(this.applyModificationRetry.bind(this,{value:n,aliases:o,selector:r,typeKey:t},e,i+1),this.configuration.retryMS);return!1};return t}(v.BaseModule),j=(v.SiteCustomizationModule=t,function(){function t(t){this.exp=t;this.isEnabled=!1;this.priority=null;this.id="";this.name="";this.pages=t.pages||[];this.pages instanceof Array||(this.pages=[this.pages]);this.isEnabled=t.isEnabled||!1;this.name=t.name||"";this.id=t.id||"";this.priority=t.priority||5e3;this.modify=t.modify||function(){};this.locations=t.locations||null;this.boundPostModificationCallback=this.postModificationCallback.bind(this)}t.prototype.postModificationCallback=function(t){v.PreTag&&v.PreTag.restorePageVisibility();t&&v.EventApi.sendExperienceFiredEvent(this.id);v.Utilities.Logging.log("Experience.postModificationCallback: The experience named '".concat(this.name,"' ").concat(t?"was successfully":"was NOT"," applied."))};t.prototype.forceRun=function(){try{v.Utilities.Logging.log("Experience.forceRun: running modify function for: ".concat(this.name));this.modify.call(this,document,this.boundPostModificationCallback);return!0}catch(t){var e;throw new Error("".concat(v.Utilities.Constants.MODIFICATION_ERROR,": ").concat(t.message))}};t.prototype.run=function(){if(!this.isEnabled){return v.Utilities.Logging.log("Experience.run(): Experience named: ".concat(this.name," is currently disabled, will not fire.")),!1}var t,e;if(!this.doesPageMatch()){return v.Utilities.Logging.log("Experience.run(): SiteCustomization modify ".concat(this.name," not fired. no URL match with: ").concat(JSON.stringify(this.pages))),!1}if(!this.doesLocationMatch()){return v.Utilities.Logging.log("Experience.run(): SiteCustomization modify ".concat(this.name," not fired. No location match found.")),!1}v.Utilities.Logging.log("Experience.run(): Experience named: ".concat(this.name," url and location matched, and will run."));return this.forceRun()};t.prototype.doesPageMatch=function(){v.Utilities.Logging.log("Experience.doesPageMatch(): Experience named: ".concat(this.name," checking these URLs: ").concat(JSON.stringify(this.pages)));for(var t=0;t<this.pages.length;t++)if(v.Utilities.isCurrentPage(this.pages[t]||""))return!0;return!1};t.prototype.doesLocationMatch=function(){var t=this.getCompanyProfile().registry_country_code;v.Utilities.Logging.log("Experience.doesLocationMatch(): Checking experience '".concat(this.name,"' with country code '").concat(t,"' against locations object: ").concat(JSON.stringify(this.locations)));return!!(!this.locations||"global"===this.locations.status||("string"!=typeof t||2!==t.length)&&this.locations.showUnknown||0===this.locations.countryCodes.length||-1<v.Shims.indexOf(this.locations.countryCodes,t))};t.prototype.getCompanyProfile=function(){return v.IpApi&&v.IpApi.CompanyProfile||{}};return t}()),v.Experience=j;w=d=d||{},i=function(){function t(){}Object.defineProperty(t,"domainAPIUrl",{get:function(){var t=w.Utilities.dig(w,"Config","domainAPI","url")||w.Utilities.dig(w,"Config","general","domainAPI","url")||window.Demandbase.Utilities.Constants.URL_DOMAIN_API,t;return t=w.Utilities.setHttpsProtocol(t)},enumerable:!1,configurable:!0});t._callback=function(t){if(t.domain||t.person){t=t.domain||t.person;var e=w.Utilities.flatten(t);this.CompanyProfile=t}else w.Utilities.Logging.log("Demandbase.Domain: No company profile available for domain: ".concat(this.getDomain()))};t.load=function(){if("function"==typeof w.Config.getDomain&&void 0!==this.key){var t="",e={},t=this.useTestValue?this.testValue:this.getDomain(),e={key:this.key,callback:"Demandbase.Domain._callback",query:t,src:"tag"},t=(w.Utilities.Logging.log("Calling Domain API at: ".concat(this.domainAPIUrl)),void 0);window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP"));try{t.open("POST",this.domainAPIUrl);void 0!==t.withCredentials&&(t.withCredentials=!0);t.send(JSON.stringify(e))}catch(t){w.Utilities.Logging.log("IP API Request Blocked");throw t}w.Utilities.insertScript(w.Utilities.Api.buildApiUrl(this.domainAPIUrl,e),"db_domain_api")}else w.Utilities.Logging.log("Domain API query cancelled - check auth key or Config.getDomain")};t.getDomain=function(){if(this.useTestValue)return this.testValue;if("function"==typeof w.Config.getDomain)return w.Config.getDomain.call(w.Config);w.Utilities.Logging.log("Warning: Config.getDomain fcn not defined.");return"getDomain function is not defined"};t.key=w.Utilities.getApiAuthToken();t.CompanyProfile=null;t.useTestValue="true"===w.Utilities.getQueryParam(w.Utilities.Constants.QS_USE_TEST_DOMAIN)||w.Config.useTestDomain||!1;t.testValue=w.Utilities.getQueryParam(w.Utilities.Constants.QS_QUERY_DOMAIN)||w.Config.testDomain||"No Test Domain Set";return t}(),w.Domain=i;void 0===window.__db&&(b={segments:null,conditions:null});window.Demandbase.DBCondition=function(t,e,i,n,o){this.name=t;this.attributeValue=e;this.operator=i;this.value=n;this.attributeName=o;this._checkValue=function(t){switch(i){case"equals":return this.attributeValue==t;case"not equals":return this.attributeValue!==t;case"contains":return-1!==d.Shims.indexOf(this.attributeValue,t);default:return!1}};this.evaluate=function(){i=this.operator.toLowerCase();i=window.Demandbase.DBCondition.prototype.supportedOperators[i];if("object"!=typeof this.value)return this._checkValue(this.value);for(var t in this.value)if(!0===this._checkValue(this.value[t]))return!0;return!1}};window.Demandbase.DBCondition.prototype.name="DBCondition";window.Demandbase.DBCondition.prototype.supportedOperators={"=":"equals","==":"equals",equal:"equals",equals:"equals","!=":"not equals","!==":"not equals","not equal":"not equals","not equals":"not equals",contains:"contains",contain:"contains"};window.Demandbase.DBConditionBuilder={isValid:function(t){for(var e=["name","attributeValue","operator","value","attributeName"],i=0;i<e.length;i++)if(void 0===t[e[i]])return!1;return!0},build:function(t,e){if(t&&!t.name)return null;if(void 0!==t.constructor.prototype.name&&"DBCondition"===t.constructor.prototype.name)return t;t.attributeName||(t.attributeName=t.attribute||"NO_ATTR_SET");t.attributeValue=e[t.attribute]||"";var e,i,n,o,t,r;return this.isValid(t)?(e=t.name,i=t.attributeValue,n=t.operator,o=t.value,t=t.attributeName,new window.Demandbase.DBCondition(e,i,n,o,t)):null}};var k=function(t,e){this.name=t;this.rules=[];this.operator="";this.addCondition=function(t){if(!(t&&t.evaluate||void 0!==t.constructor.prototype.name&&"DBCondition"===t.constructor.prototype.name)){var t;if(!(t=window.Demandbase.DBConditionBuilder.build(t,window.Demandbase.Segments.CompanyProfile)))throw new Error("Invalid Condition: ".concat(t.name));d.Utilities.Logging.log("DBSegmentBuilder converted condition successfully...")}this.rules.push(t);var e;switch(this.operator||k.prototype.supportedOperators.any){case"and":return this.value=this.value&&t.evaluate();case"or":return this.value=this.value||t.evaluate();default:return t.evaluate()}};this.value=this.addCondition(e)},d,N;k.prototype.name="DBSegment";k.prototype.supportedOperators={"&&":"and","&":"and",and:"and","||":"or","|":"or",or:"or",any:"or",all:"and"};window.Demandbase.DBSegmentBuilder={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},isValid:function(t){for(var e=["name","operator","rules"],i=0;i<e.length;i++)if(void 0===t[e[i]])return!1;return!!this.isArray(t.rules)},build:function(t){if(!this.isValid(t))return null;var e,i=t.name,n=t.rules[0],o=t.operator;if(n){(e=new k(i,n)).operator=k.prototype.supportedOperators[o]||k.prototype.supportedOperators.any;if(1<t.rules.length)for(var r=1,n;r<t.rules.length;r+=1){if(void 0===(n=t.rules[r]).constructor.prototype.name||"DBCondition"!==n.constructor.prototype.name){var a=window.Demandbase.DBConditionBuilder.build(n,void 0);a&&(n=a)}e.addCondition(n)}return e}}};window.Demandbase.Segments=window.Demandbase.Segments||{name:"Demandbase Segments",CompanyProfile:null,AccountWatchVisitor:!1,IsCompany:!1,version:"1.2.2",_debug:!1,_allConditions:[],_allSegments:[],_isInitialized:!1,_setup:function(){this._isInitialized&&this._reset();this.CompanyProfile||!window.Demandbase.IP&&!window.Demandbase.Domain||(this.CompanyProfile=window.Demandbase.IP.CompanyProfile||window.Demandbase.Domain.CompanyProfile||{});"Detailed"===this.CompanyProfile.information_level&&(this.IsCompany=!0);for(var t in this.CompanyProfile)this.CompanyProfile.hasOwnProperty(t)&&0===d.Shims.indexOf(t,"watch_list_")&&(this.AccountWatchVisitor=!0);for(var e in this._allConditions)this._allConditions.hasOwnProperty(e)&&this._allConditions[e]&&(void 0===this._allConditions[e].constructor.prototype.name||"DBCondition"!==this._allConditions[e].constructor.prototype.name)&&this.add("condition",this._allConditions[e]);for(var i in this._allSegments)this._allSegments.hasOwnProperty(i)&&this._allSegments[i].name&&(void 0===this._allSegments[i].constructor.prototype.name||"DBSegment"!==this._allSegments[i].constructor.prototype.name)&&this.add("segment",this._allSegments[i])},_reset:function(){this._allConditions=d.Config.conditions||b.conditions||[];this._allSegments=d.Config.segments||b.segments||[]},load:function(){d.Utilities.Callbacks.registerCallback(this.init.bind(this))},init:function(t){window.Demandbase.Segments._debug=d.Utilities.Logging.debug||!1;window.Demandbase.Segments._allConditions=d.Config.conditions||b.conditions||[];window.Demandbase.Segments._allSegments=d.Config.segments||b.segments||[];var e=window.Demandbase.Segments;e.CompanyProfile=t;e._setup();e._isInitialized=!0},getActiveSegments:function(){var t=[],e;for(e in this._allSegments)this._allSegments.hasOwnProperty(e)&&this._allSegments[e].value&&t.push(this._allSegments[e]);return t},getInactiveSegments:function(){var t=[],e;for(e in this._allSegments)!this._allSegments.hasOwnProperty(e)||this._allSegments[e].value||t.push(this._allSegments[e]);return t},add:function(t,e){if(!t||!e||e=={}){return d.Utilities.Logging.log("Demandbase.Segments.add operation failed due to invalid/empty parameters."),null}if("condition"===t){for(var i=void 0,n=this._allConditions.length,o=0;o<this._allConditions.length;o++)if(this._allConditions[o].name===e.name){n=o;break}(i=window.Demandbase.DBConditionBuilder.build(e,this.CompanyProfile))?this._allConditions[n]=i:d.Utilities.Logging.log("Invalid Condition (not created) from: ".concat(d.Shims.JSON.stringify(e)));if(void 0===e.standalone||!1!==e.standalone){var i=e.name;this.add("segment",{name:i,rules:[i],operator:k.prototype.supportedOperators.any})}}else if("segment"===t){if("segment"!==this.isValid(e))return null;for(var r=e.name,i=void 0,a=void 0,s=this._allSegments.length,l=e.rules||[],c=0;c<this._allSegments.length;c++)if(this._allSegments[c].name===e.name){s=c;break}for(var u=0;u<l.length;u++){var g=l[u];k.prototype.supportedOperators[g]||((a=k.prototype.supportedOperators[g]?a:this.get("condition",g))?l[u]=a:d.Utilities.Logging.log("Segment: ".concat(e," uses a Condition (").concat(l[u],") that is not defined.")))}e.rules=l;if(i=window.Demandbase.DBSegmentBuilder.build(e)){this._allSegments[s]=i;if(this.hasOwnProperty(i.name))this[i.name]=i;else try{Object.defineProperty(this,i.name,{value:i.value,writable:!0})}catch(t){window.Demandbase.Segments[i.name]=i.value}}else d.Utilities.Logging.log("Invalid Segment (not created) from: ".concat(d.Shims.JSON.stringify(e)))}else d.Utilities.Logging.log('Invalid "type" parameter ('.concat(t,') passed to "add" function.  Must be "segment" or "condition".'))},get:function(t,e){var i=[],n;1===arguments.length&&(e=t);if("condition"===t){if(void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return e;i=this._allConditions}else{if(void 0!==e.constructor.prototype.name&&"DBSegment"===e.constructor.prototype.name)return e;i=this._allSegments}for(n in i)if(this._allConditions[n].name===e)return this._allConditions[n];k.prototype.supportedOperators[e]||d.Utilities.Logging.log('No item with type: "'.concat(t,'" found with name: ').concat(e));return null},isValid:function(t){var e,i="condition",n="segment",o=["name","rules"],r=["name","attribute","operator","value"];if(!t)return!1;if(void 0!==t.constructor.prototype.name&&"DBSegment"===t.constructor.prototype.name)return n;if(void 0!==t.constructor.prototype.name&&"DBCondition"===t.constructor.prototype.name)return i;try{if(t.hasOwnProperty("name")&&t.hasOwnProperty("rules")){if("object"==typeof t.rules)return n}else for(var a in o)if(!t.hasOwnProperty(o[a])){return d.Utilities.Logging.log('Invalid DBSegment definition.  Missing property:"'.concat(o[a],'"')),!1}if(!e)for(var a in r){if(!t.hasOwnProperty(r[a]))return d.Utilities.Logging.log('Invalid DBCondition definition.  Missing property:"'.concat(r[a],'"')),!1;e=i}return e}catch(t){d.ErrorReporter.send(t);return!1}}};(N=d=d||{}).initialize=Ie;function Ie(t){if(N.Config.allowedDomains&&N.Config.allowedDomains.length)for(var e=0;e<N.Config.allowedDomains.length&&!(document.location&&document.location.href&&0<=document.location.href.indexOf(N.Config.allowedDomains[e]));e++)if(N.Config.allowedDomains.length-1===e){return N.Utilities.Logging.log("Demandbase.initialize: Domain ".concat(document.location.href," - not in allowed list")),void 0}if(!N._isInitialized||t){N._isInitialized=!0;null==N.Config.isInIFrame&&(N.Config.isInIFrame=N.Utilities.detectIFrame());N.AssetReporter=new N.AssetReporterModule;N.AssetReporter.isEnabled()&&N.AssetReporter.initialize();N.Advertising=new N.AdvertisingModule;N.Ads=N.Advertising;if(N.Advertising.isEnabled()){N.IpApiReportingOnly=new N.IpApiModule;N.Advertising.initialize()}N.IpApi=new N.IpApiModule;N.IP=N.IpApi;N.IpApi.getOnce();window.Demandbase.Segments.load();N.Config.callback&&N.Utilities.Callbacks.registerCallback(N.Config.callback);N.FormsLoader=new N.FormsLoaderModule;if(N.FormsLoader.isEnabled()){N.FormsLoader.initialize();window.Demandbase.utils.loadFormModule=N.FormsLoader.load.bind(N.FormsLoader);window.Demandbase.utils.isFormPage=N.FormsLoader.isFormPage.bind(N.FormsLoader)}N.Connectors.Google_Analytics=new N.Google_AnalyticsModule;N.Connectors.Google_Analytics.isEnabled()&&N.Connectors.Google_Analytics.initialize();N.Connectors.Google_TagManager=new N.Google_TagManagerModule;N.Connectors.Google_TagManager.isEnabled()&&N.Connectors.Google_TagManager.initialize();N.Content=new N.ContentModule;N.Content.isEnabled()&&N.Content.initialize();N.EventApi=new N.EventApiModule;N.EventApi.isEnabled()&&N.EventApi.initialize();N.SiteCustomization=new N.SiteCustomizationModule;N.SiteCustomization.isEnabled()&&N.SiteCustomization.initialize();var i;"function"==typeof N.Config.getDomain&&N.Config.getDomain()&&N.Domain.load();N.EmailDomainReporter=new N.EmailDomainReporterModule;N.EmailDomainReporter.isEnabled()&&N.EmailDomainReporter.initialize();var t={Advertising:N.AdvertisingModule,AssetReporter:N.AssetReporterModule,Content:N.ContentModule,ErrorReporter:N.ErrorReporterModule,EventApi:N.EventApiModule,Google_Analytics:N.Google_AnalyticsModule,SiteCustomization:N.SiteCustomization};new N.ModuleFactory(N.Config,t,N).build();"function"==typeof N.Config.onLoad&&N.Config.onLoad.call(N)}}d.Config.Google_Analytics={fieldMap:null};d.Config.clientId="e5737616348cbfe8";d.Config.key="btrSDj570qCEyq0a8DlYfKVcFfMS7HrGU8AUd2bg";d.Config.Advertising={enableBW:!0};d.Config.general.APIVersion="v3";d.Config.general.IpApiModule.baseUrl="api.company-target.com/api/v3/ip.json";d.Config.general.domainAPI.url="api.company-target.com/api/v3/domain.json";d.Config.general.forms.emailAPIPath="/api/v5/email.json";d.Config.general.forms.autocompletePath="/forms/autocomplete";d.Config.Event.enabled=!1;d.Config.Event.server="https://et.company-target.com";d.ErrorReporter=new d.ErrorReporterModule;d.ErrorReporter.initialize();d.ErrorReporter.wrap(d.initialize.bind(d))()}(window.Demandbase);